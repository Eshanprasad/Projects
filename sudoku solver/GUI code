from tkinter import *
root = Tk()
# set the title
root.title("Eshan's Sudoku Solver")
# set the dimensions of the window using geometry method
root.geometry("324x550")


label = Label(root, text="Fill in the numbers and click solve").grid(row=0, column=1, columnspan = 10)    # columnspan = 10 set the label in centre of the window
errLabel = Label(root, text ="",fg="red")
errLabel.grid(row=15, column=1, columnspan=10, pady=5)
solvedLabel = Label(root, text="", fg="green")
solvedLabel.grid(row = 15, column=1, columnspan=10, pady=5)

# create an empty dictionary where we store each cell of input grid
cells = {}

# define a validation function to control what is being entered nto the cell
def ValidateNumber(P):
    out = (P.isdigit() or P=="") and len(P)<2
    return out
reg = root.register(ValidateNumber)  # register the function to the window using root's register method



# to divide the sudoku's 9/9 grid into smaller 3/3 grids
def draw3x3Grid(row, column, bgcolor):
    for i in range(3): # indicates rows
        for j in range(3):    # indicates column
            e = Entry(root, width=5, bg=bgcolor, justify="center", validate="key", validatecommand=(reg, "%P"))
            e.grid(row=row+i+1, column=column+j+1, sticky="nsew", padx=1, pady=1, ipady=5)
            cells[(row+i+1, column+j+1)] = e

def draw9x9Grid():
    color = "#D0ffff"
    for rowNo in range(1,10,3):
        for colNo in range(0,9,3):
            draw3x3Grid(rowNo, colNo, color)
            if color == "#D0ffff":
                color= "#ffffd0"
            else:
                color = "#D0ffff"

def clearValues():
    errLabel.configure(text="")
    solvedLabel.configure(text="")
    for row in range(2,11):
        for col in range(1,10):
            cell = cells[(row,col)]
            cell.delete(0,"end")
def getValues():
    board = []
    errLabel.configure(text="")
    solvedLabel.configure(text="")
    for row in range(2,11):
        rows = []
        for col in range(1,10):
            val = cells[(row, col)].get()
            if val=="":
                rows.append(0)
            else:
                rows.append(int(val))
        board.append(rows)

btn = Button(root, command=getValues, text="Solve", width = 10)
btn.grid(row=20,column = 1, columnspan=5, pady=20)

btn = Button(root, command=clearValues, text="Clear", width = 10)
btn.grid(row=20,column = 5, columnspan=5, pady=20)

draw9x9Grid()
root.mainloop()
